Version 1
Types:
Trap
ComplexHall
Maze

Settings:
AllowDuplicatesInChain = false
AllowPackChangeOut = false
DistortDoorCoordinates = true
AllowPackChangeIn = true

Rules:

? ? ? -> 

? ? -> Maze#20 ComplexHall#40 Trap#40

? -> ComplexHall#40 Trap#60

-> ComplexHall#100